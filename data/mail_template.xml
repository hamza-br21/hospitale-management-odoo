<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Email Template for Appointment Confirmation -->
        <record id="appointment_confirmation_email_template" model="mail.template">
            <field name="name">Appointment: Confirmation</field>
            <field name="model_id" ref="model_hospital_appointment"/>
            <field name="subject">Appointment Confirmed - Ref {{ object.reference }}</field>
            <field name="email_from">{{ (object.doctor_id.email or user.email_formatted) }}</field>
            <field name="email_to">{{ object.patient_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Hello <t t-out="object.patient_id.name or ''"/>,
                        <br/><br/>
                        Your appointment with Dr. <t t-out="object.doctor_id.name or ''"/> has been confirmed!
                        <br/><br/>
                        <strong>Details:</strong>
                        <br/>
                        - Date: <t t-out="object.date_appointment"/>
                        <br/>
                        - Reference: <t t-out="object.reference"/>
                        <br/><br/>
                        Please arrive 15 minutes early.
                        <br/><br/>
                        Best regards,
                        <br/>
                        <t t-out="object.env.company.name or ''"/>
                    </p>
                </div>
            </field>
        </record>

        <!-- Email Template for Prescription Sending -->
        <record id="prescription_email_template" model="mail.template">
            <field name="name">Prescription: Send by Email</field>
            <field name="model_id" ref="model_hospital_prescription"/>
            <field name="subject">Your Prescription - Ref {{ object.reference }}</field>
            <field name="email_from">{{ (object.doctor_id.email or user.email_formatted) }}</field>
            <field name="email_to">{{ object.patient_id.email }}</field>
            <field name="report_template_ids" eval="[(4, ref('gestion_hospitaliere.action_report_prescription'))]"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Hello <t t-out="object.patient_id.name or ''"/>,
                        <br/><br/>
                        Please find attached your medical prescription.
                        <br/><br/>
                        <strong>Dr. <t t-out="object.doctor_id.name or ''"/></strong>
                        <br/>
                        <span style="font-size: 11px; color: #888;">
                            <t t-out="object.doctor_id.specialization or ''"/>
                        </span>
                        <br/><br/>
                        Get well soon!
                        <br/>
                        <t t-out="object.env.company.name or ''"/>
                    </p>
                </div>
            </field>
        </record>

    </data>
</odoo>
